name: botLineRaey
tag: null
deleted_at: null
desc: ''
timezone: 7
flows:
    fallback:
    orderFlow:
        active: true
        volatile: false
        intents:
            orderTxt:
                type: text
                initial: true
                fallback: false
                classifier:
                    nlu: order
                    match: pizzaOrder
            pizzaChosen:
                type: data
                initial: false
                fallback: false
                condition: payload.type=="pizza"
            reenter:
                type: command
                initial: false
                fallback: false
                condition: content=="reenter"
            pizzaQuantity:
                type: text
                initial: false
                fallback: false
                classifier:
                    nlu: quantity
            confirmation:
                type: text
                initial: false
                fallback: false
                classifier:
                    nlu: confirmationNLU
                    match: confirm
        states:
            init:
                transitions:
                    showPizza:
                        condition: intent=="orderTxt"
                initial: true
            showPizza:
                transitions:
                    pizzaQuantity:
                        condition: intent=="pizzaChosen"
                        mapping:
                            context.pizza: payload.pizza
                    showPizza:
                        fallback: true
                action:
                    -
                        name: pizzaMenu
                    -
                        name: pizzaOptions
            pizzaQuantity:
                transitions:
                    confirmationState:
                        condition: intent=="pizzaQuantity"
                        mapping:
                            context.quantity: attributes.quantity
                            context.answer: 'null'
                    pizzaQuantity:
                        fallback: true
                action: askQuantity
            confirmationState:
                transitions:
                    confirmationState:
                        fallback: true
                action: confirmationAction
                transit:
                    context.answer: intent
        actions:
            pizzaOptions:
                type: text
                options:
                    text: we have Pepperroni and Veggie Lovers
            askOptions:
                type: text
                options:
                    text: Pilih lurr
            pizzaMenu:
                type: template
                options:
                    type: carousel
                    items:
                        -
                            title: Pepperoni
                            text: This is the favorite of Peps
                            thumbnailImageUrl: >-
                                https://www.wikihow.com/images/thumb/a/a7/Make-Pepperoni-Pizza-Step-19-Version-2.jpg/aid1074004-v4-728px-Make-Pepperoni-Pizza-Step-19-Version-2.jpg.webp
                            actions:
                                -
                                    type: postback
                                    label: Pepperoni
                                    payload:
                                        type: pizza
                                        pizza: Pepperoni
                        -
                            title: Veggie Lovers
                            text: Vegie vegie stay healthy
                            thumbnailImageUrl: 'https://www.calcuttaweb.com/store/image/data/calcutta/pizza/veggie-lovers-pizza-pihu-7.jpg'
                            actions:
                                -
                                    type: postback
                                    label: Veggie Lovers
                                    payload:
                                        type: pizza
                                        pizza: Veggie Lovers
            askQuantity:
                type: text
                options:
                    text: How many pizza do you want? min 1-9
            confirmationAction:
                type: text
                options:
                    text: do you want to order $(context.pizza)?
        methods: {}
    insultFlow:
        active: true
        volatile: false
        intents:
            insultIntent:
                type: text
                initial: true
                fallback: false
                classifier:
                    nlu: insultNLU
                    match: insult
        states:
            init:
                transitions:
                    init:
                        fallback: true
                action: insultAction
                initial: true
                end: true
        actions:
            insultAction:
                type: text
                options:
                    text: MOTHERFUCKER!!
        methods: {}
nlus:
    order:
        type: keyword
        options:
            keywords:
                pizzaOrder:
                    - order
                    - pls order
                    - orde pza
                    - pizza please
    quantity:
        type: regex
        options:
            regex: '[1-9]'
    insultNLU:
        type: keyword
        options:
            keywords:
                insult:
                    - fuck you
                    - you dumb
                    - fuck
    confirmationNLU:
        type: keyword
        options:
            keywords:
                'yes':
                    - 'yes'
                    - ya
                    - ok
                    - correct
                'no':
                    - 'no'
                    - 'n'
                    - nope
methods: {}
config: {}
